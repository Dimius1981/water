-- phpMyAdmin SQL Dump
-- version 5.1.3
-- https://www.phpmyadmin.net/
--
-- Хост: localhost:3306
-- Время создания: Сен 17 2022 г., 13:32
-- Версия сервера: 10.4.24-MariaDB-cll-lve
-- Версия PHP: 7.4.28

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- База данных: `p-330925_water`
--

-- --------------------------------------------------------

--
-- Структура таблицы `records`
--

CREATE TABLE `records` (
  `id` int(11) NOT NULL,
  `sensor_id` int(11) NOT NULL,
  `level` int(11) NOT NULL,
  `bat` int(11) NOT NULL,
  `rashod` int(11) NOT NULL,
  `date_insert` datetime NOT NULL,
  `reset` varchar(10) NOT NULL,
  `lastcode` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `records`
--

INSERT INTO `records` (`id`, `sensor_id`, `level`, `bat`, `rashod`, `date_insert`, `reset`, `lastcode`) VALUES
(1, 1, 100, 100, 0, '2022-09-15 18:31:25', '', 0),
(2, 1, 99, 100, 0, '2022-09-15 18:55:20', '', 0),
(3, 1, 98, 100, 0, '2022-09-15 18:57:55', '', 0),
(4, 1, 101, 100, 0, '2022-09-15 19:40:46', '', 0),
(5, 1, 102, 100, 0, '2022-09-15 19:41:40', '', 0),
(6, 1, 100, 100, 0, '2022-09-15 19:53:46', '', 0),
(7, 1, 99, 100, 0, '2022-09-15 20:59:45', '', 0),
(8, 1, 99, 100, 0, '2022-09-15 21:00:55', '', 0),
(9, 1, 200, 199, 0, '2022-09-16 00:14:57', '', 0),
(10, 1, 200, 199, 0, '2022-09-16 02:22:37', '', 0),
(11, 1, 200, 199, 0, '2022-09-16 02:23:44', '', 0),
(12, 1, 200, 199, 0, '2022-09-16 02:25:19', '', 0),
(13, 1, 200, 199, 0, '2022-09-16 02:26:43', '', 0),
(14, 1, 200, 199, 0, '2022-09-16 02:30:43', '', 0),
(15, 1, 200, 199, 0, '2022-09-16 02:36:29', '', 0),
(16, 1, 200, 199, 0, '2022-09-16 02:42:52', '', 0),
(17, 1, 200, 199, 0, '2022-09-16 02:43:32', '', 0),
(18, 1, 22, 974, 0, '2022-09-16 02:59:09', '', 0),
(19, 1, 23, 974, 0, '2022-09-16 03:06:24', '', 0),
(20, 1, 22, 972, 0, '2022-09-16 03:10:12', '', 0),
(21, 1, 118, 972, 0, '2022-09-16 03:11:37', '', 0),
(22, 1, 22, 972, 0, '2022-09-16 03:13:03', '', 0),
(23, 1, 24, 972, 0, '2022-09-16 04:10:15', '', 0),
(24, 1, 24, 972, 0, '2022-09-16 05:09:26', '', 0),
(25, 1, 23, 970, 0, '2022-09-16 06:08:42', '', 0),
(26, 1, 23, 970, 0, '2022-09-16 07:07:56', '', 0),
(27, 1, 23, 969, 0, '2022-09-16 09:06:53', '', 0),
(28, 1, 99, 100, 0, '2022-09-16 10:25:10', '', 0),
(29, 1, 99, 100, 0, '2022-09-16 10:25:27', '', 0),
(30, 1, 99, 100, 0, '2022-09-16 10:25:31', '', 0),
(31, 1, 99, 100, 0, '2022-09-16 10:25:33', '', 0),
(32, 1, 99, 100, 0, '2022-09-16 15:09:04', '', 0),
(33, 1, 690, 967, 0, '2022-09-16 22:36:17', '', 0),
(34, 1, 690, 967, 0, '2022-09-16 22:38:27', '', 0),
(35, 1, 57, 965, 0, '2022-09-16 22:58:01', '', 0),
(36, 1, 56, 965, 0, '2022-09-16 22:58:49', '', 0),
(37, 1, 690, 967, 0, '2022-09-16 23:01:39', '', 0),
(38, 1, 22, 970, 0, '2022-09-16 23:09:20', '', 0),
(39, 1, 25, 965, 0, '2022-09-16 23:29:48', '', 0),
(40, 1, 689, 965, 0, '2022-09-16 23:30:52', '', 0),
(41, 1, 689, 965, 0, '2022-09-16 23:31:24', '', 0),
(42, 1, 23, 965, 0, '2022-09-16 23:39:59', '', 0),
(43, 1, 324, 965, 0, '2022-09-16 23:46:06', '', 0),
(44, 1, 339, 964, 0, '2022-09-16 23:47:19', '', 0),
(45, 1, 689, 964, 0, '2022-09-16 23:48:47', '', 0),
(46, 1, 689, 963, 0, '2022-09-16 23:54:18', '', 0),
(47, 1, 689, 964, 0, '2022-09-16 23:57:50', '', 0),
(48, 1, 23, 965, 0, '2022-09-17 00:07:48', '', 0),
(49, 1, 392, 964, 0, '2022-09-17 00:13:11', '', 0),
(50, 1, 391, 964, 0, '2022-09-17 00:18:27', '', 0),
(51, 1, 391, 964, 0, '2022-09-17 00:23:50', '', 0),
(52, 1, 391, 964, 0, '2022-09-17 00:29:20', '', 0),
(53, 1, 391, 965, 0, '2022-09-17 00:35:03', '', 0),
(54, 1, 390, 964, 0, '2022-09-17 00:40:19', '', 0),
(55, 1, 391, 964, 0, '2022-09-17 00:45:38', '', 0),
(56, 1, 391, 965, 0, '2022-09-17 00:51:01', '', 0),
(57, 1, 391, 964, 0, '2022-09-17 00:56:21', '', 0),
(58, 1, 391, 964, 0, '2022-09-17 01:01:42', '', 0),
(59, 1, 389, 964, 0, '2022-09-17 01:07:10', '', 0),
(60, 1, 391, 964, 0, '2022-09-17 01:12:33', '', 0),
(61, 1, 391, 964, 0, '2022-09-17 01:17:54', '', 0),
(62, 1, 391, 964, 0, '2022-09-17 01:23:17', '', 0),
(63, 1, 391, 964, 0, '2022-09-17 01:28:42', '', 0),
(64, 1, 390, 964, 0, '2022-09-17 01:34:05', '', 0),
(65, 1, 391, 964, 0, '2022-09-17 01:39:27', '', 0),
(66, 1, 391, 964, 0, '2022-09-17 01:44:49', '', 0),
(67, 1, 391, 964, 0, '2022-09-17 01:50:11', '', 0),
(68, 1, 391, 964, 0, '2022-09-17 01:55:33', '', 0),
(69, 1, 391, 964, 0, '2022-09-17 02:00:56', '', 0),
(70, 1, 391, 964, 0, '2022-09-17 02:06:19', '', 0),
(71, 1, 390, 964, 0, '2022-09-17 02:11:58', '', 0),
(72, 1, 390, 963, 0, '2022-09-17 02:17:40', '', 0),
(73, 1, 391, 964, 0, '2022-09-17 02:23:05', '', 0),
(74, 1, 391, 963, 0, '2022-09-17 02:28:43', '', 0),
(75, 1, 390, 964, 0, '2022-09-17 02:34:16', '', 0),
(76, 1, 391, 964, 0, '2022-09-17 02:39:50', '', 0),
(77, 1, 391, 964, 0, '2022-09-17 02:45:07', '', 0),
(78, 1, 391, 963, 0, '2022-09-17 02:50:31', '', 0),
(79, 1, 390, 963, 0, '2022-09-17 02:55:54', '', 0),
(80, 1, 391, 963, 0, '2022-09-17 03:01:19', '', 0),
(81, 1, 689, 963, 0, '2022-09-17 03:06:42', '', 0),
(82, 1, 391, 963, 0, '2022-09-17 03:12:06', '', 0),
(83, 1, 391, 963, 0, '2022-09-17 03:17:28', '', 0),
(84, 1, 391, 963, 0, '2022-09-17 03:22:51', '', 0),
(85, 1, 390, 963, 0, '2022-09-17 03:28:13', '', 0),
(86, 1, 391, 963, 0, '2022-09-17 03:33:36', '', 0),
(87, 1, 390, 963, 0, '2022-09-17 03:38:57', '', 0),
(88, 1, 391, 963, 0, '2022-09-17 03:44:17', '', 0),
(89, 1, 390, 963, 0, '2022-09-17 03:49:40', '', 0),
(90, 1, 391, 963, 0, '2022-09-17 03:55:02', '', 0),
(91, 1, 390, 963, 0, '2022-09-17 04:00:24', '', 0),
(92, 1, 390, 963, 0, '2022-09-17 04:05:48', '', 0),
(93, 1, 390, 963, 0, '2022-09-17 04:11:10', '', 0),
(94, 1, 390, 963, 0, '2022-09-17 04:16:33', '', 0),
(95, 1, 390, 963, 0, '2022-09-17 04:21:53', '', 0),
(96, 1, 390, 962, 0, '2022-09-17 04:27:18', '', 0),
(97, 1, 390, 963, 0, '2022-09-17 04:32:51', '', 0),
(98, 1, 689, 962, 0, '2022-09-17 04:38:13', '', 0),
(99, 1, 390, 962, 0, '2022-09-17 04:43:37', '', 0),
(100, 1, 391, 962, 0, '2022-09-17 04:49:00', '', 0),
(101, 1, 390, 962, 0, '2022-09-17 04:54:22', '', 0),
(102, 1, 391, 962, 0, '2022-09-17 04:59:45', '', 0),
(103, 1, 391, 962, 0, '2022-09-17 05:05:09', '', 0),
(104, 1, 391, 962, 0, '2022-09-17 05:10:31', '', 0),
(105, 1, 391, 962, 0, '2022-09-17 05:15:55', '', 0),
(106, 1, 390, 962, 0, '2022-09-17 05:21:29', '', 0),
(107, 1, 390, 962, 0, '2022-09-17 05:26:51', '', 0),
(108, 1, 391, 962, 0, '2022-09-17 05:32:13', '', 0),
(109, 1, 391, 962, 0, '2022-09-17 05:37:34', '', 0),
(110, 1, 390, 962, 0, '2022-09-17 05:42:51', '', 0),
(111, 1, 391, 962, 0, '2022-09-17 05:48:14', '', 0),
(112, 1, 391, 962, 0, '2022-09-17 05:53:32', '', 0),
(113, 1, 391, 961, 0, '2022-09-17 05:58:52', '', 0),
(114, 1, 390, 962, 0, '2022-09-17 06:04:10', '', 0),
(115, 1, 390, 961, 0, '2022-09-17 06:09:33', '', 0),
(116, 1, 391, 961, 0, '2022-09-17 06:14:54', '', 0),
(117, 1, 391, 961, 0, '2022-09-17 06:25:43', '', 0),
(118, 1, 391, 961, 0, '2022-09-17 06:31:03', '', 0),
(119, 1, 391, 961, 0, '2022-09-17 06:36:20', '', 0),
(120, 1, 391, 961, 0, '2022-09-17 06:41:41', '', 0),
(121, 1, 390, 961, 0, '2022-09-17 06:47:00', '', 0),
(122, 1, 391, 961, 0, '2022-09-17 06:52:18', '', 0),
(123, 1, 391, 961, 0, '2022-09-17 06:57:40', '', 0),
(124, 1, 391, 961, 0, '2022-09-17 07:03:12', '', 0),
(125, 1, 391, 961, 0, '2022-09-17 07:08:31', '', 0),
(126, 1, 391, 961, 0, '2022-09-17 07:13:58', '', 0),
(127, 1, 390, 961, 0, '2022-09-17 07:19:25', '', 0),
(128, 1, 390, 961, 0, '2022-09-17 07:24:50', '', 0),
(129, 1, 390, 961, 0, '2022-09-17 07:30:18', '', 0),
(130, 1, 392, 961, 0, '2022-09-17 07:35:45', '', 0),
(131, 1, 391, 961, 0, '2022-09-17 07:41:21', '', 0),
(132, 1, 391, 961, 0, '2022-09-17 07:46:43', '', 0),
(133, 1, 390, 961, 0, '2022-09-17 07:52:04', '', 0),
(134, 1, 28, 961, 0, '2022-09-17 07:57:22', '', 0),
(135, 1, 690, 961, 0, '2022-09-17 08:02:45', '', 0),
(136, 1, 689, 961, 0, '2022-09-17 08:08:05', '', 0),
(137, 1, 32, 961, 0, '2022-09-17 08:13:24', '', 0),
(138, 1, 33, 961, 0, '2022-09-17 08:13:50', '', 0),
(139, 1, 22, 958, 0, '2022-09-17 08:16:30', '', 0),
(140, 1, 177, 962, 0, '2022-09-17 12:04:21', '', 0),
(141, 1, 174, 961, 0, '2022-09-17 12:06:39', '', 0),
(142, 1, 173, 957, 0, '2022-09-17 12:23:36', '', 0),
(143, 1, 23, 957, 0, '2022-09-17 12:25:54', '', 0),
(144, 1, 22, 958, 0, '2022-09-17 12:28:31', '', 0),
(145, 1, 23, 962, 0, '2022-09-17 12:37:14', 'sleep', 200),
(146, 1, 22, 958, 0, '2022-09-17 12:40:39', 'external', 0),
(147, 1, 22, 962, 0, '2022-09-17 12:50:34', 'sleep', 200),
(148, 1, 113, 994, 0, '2022-09-17 13:01:33', 'external', 0),
(149, 1, 22, 992, 0, '2022-09-17 13:10:58', 'external', 0),
(150, 1, 22, 994, 0, '2022-09-17 13:17:04', 'sleep', 200),
(151, 1, 22, 992, 0, '2022-09-17 13:23:53', 'external', 0);

-- --------------------------------------------------------

--
-- Структура таблицы `sensors`
--

CREATE TABLE `sensors` (
  `id` int(11) NOT NULL,
  `factorynumber` int(11) NOT NULL,
  `name` varchar(65) NOT NULL,
  `lastindication` int(11) NOT NULL,
  `date` date NOT NULL,
  `sum` int(11) NOT NULL,
  `description` varchar(65) NOT NULL,
  `model` varchar(65) NOT NULL,
  `high` int(11) NOT NULL,
  `gsmnum` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Дамп данных таблицы `sensors`
--

INSERT INTO `sensors` (`id`, `factorynumber`, `name`, `lastindication`, `date`, `sum`, `description`, `model`, `high`, `gsmnum`) VALUES
(1, 1, 'Sensor 1', 0, '2022-09-15', 0, 'Sensor model MSD1', 'MSD1', 0, 0);

-- --------------------------------------------------------

--
-- Структура таблицы `users`
--

CREATE TABLE `users` (
  `id` int(11) NOT NULL,
  `level_id` int(11) NOT NULL,
  `name` varchar(30) NOT NULL,
  `login` varchar(20) NOT NULL,
  `pass` varchar(60) NOT NULL,
  `date_login` datetime DEFAULT NULL,
  `email` varchar(20) NOT NULL,
  `enabled` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `users`
--

INSERT INTO `users` (`id`, `level_id`, `name`, `login`, `pass`, `date_login`, `email`, `enabled`) VALUES
(1, 1, 'Админ Юзерович', 'admin', 'bd8be35fbde31a9c7eb4149cd404a6a5', '2022-09-15 20:56:41', 'admin@uvrcloud,kz', 1);

-- --------------------------------------------------------

--
-- Структура таблицы `user_levels`
--

CREATE TABLE `user_levels` (
  `id` int(11) NOT NULL,
  `name` varchar(20) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Дамп данных таблицы `user_levels`
--

INSERT INTO `user_levels` (`id`, `name`) VALUES
(1, 'Администратор'),
(2, 'Управляющий'),
(3, 'Менеджер'),
(4, 'Покупатель');

--
-- Индексы сохранённых таблиц
--

--
-- Индексы таблицы `records`
--
ALTER TABLE `records`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `sensors`
--
ALTER TABLE `sensors`
  ADD PRIMARY KEY (`id`);

--
-- Индексы таблицы `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD KEY `users_ibfk_1` (`level_id`);

--
-- Индексы таблицы `user_levels`
--
ALTER TABLE `user_levels`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT для сохранённых таблиц
--

--
-- AUTO_INCREMENT для таблицы `records`
--
ALTER TABLE `records`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=152;

--
-- AUTO_INCREMENT для таблицы `sensors`
--
ALTER TABLE `sensors`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT для таблицы `users`
--
ALTER TABLE `users`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT для таблицы `user_levels`
--
ALTER TABLE `user_levels`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- Ограничения внешнего ключа сохраненных таблиц
--

--
-- Ограничения внешнего ключа таблицы `users`
--
ALTER TABLE `users`
  ADD CONSTRAINT `users_ibfk_1` FOREIGN KEY (`level_id`) REFERENCES `user_levels` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
